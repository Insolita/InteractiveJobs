Organize Interactive Job Management With Laravel
------------------------------------------------

###Introduction

В экосистеме Laravel есть отличный набор инструментов для выполнения фоновых задач и организации очередей, есть
Horizon для мониторинга и отслеживания невыполненных задач. И это отлично работает для рутинных задач типа отправки
писем, создания миниатюр изображений, генерации ексель или пдф отчетов. Но на практике встречаются более комплексные
задачи, требующие более подробного логгирования и удобного просмотра лога выполнения конкретной задачи, сохранения
результата выполнения. Для действительно долгих задач, состоящих из нескольких шагов бывает необходимо фиксировать
прогресс выполнения, и даже передавать его в реальном времени. А так же, в случае ошибки, запустить задачу с шага на
котором произошла ошибка. Итак, нам необходим инструмент который позволит решить все эти проблемы.

  - Удобный доступ к логам выполнения каждой конкретной задачи

  - Реал-тайм прогресс выполнения задачи и уведомления о старте/завершении задачи

  - Комплексные задачи с подзадачами или "шагами" с возможностью продолжения с проваленного шага

###Подготовка

 - Установим новое laravel-приложение `laravel new taskapp`
 - Настроим соединение с базой, выполним предустановленные миграции , создадим пользователя, предустановленную
 авторизацию `php artisan make:auth`. Запустим приложение и убедимся что оно работает, и позволяет пользователю
 авторизоваться

 - Установим Predis `composer require predis/predis`
      - В .env файле устанавливаем `QUEUE_DRIVER=redis`, при необходимости указываем нужные настройки соединения с redis

 - Установим [Laravel Horizon](https://laravel.com/docs/5.6/horizon) `composer require laravel/horizon`
      - Зарегистрируем Laravel\Horizon\HorizonServiceProvider в config/app.php [?](https://laravel.com/docs/5.6/providers#registering-providers)

 - Установим laravel-echo-service https://github.com/tlaverdure/laravel-echo-server и инициализируем с настройками по
 умолчанию